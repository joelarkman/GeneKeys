{% extends "main/base.html" %}
{% load widget_tweaks %}

{% block content %}

<div class="ui main container">

    <div class="ui segment">
        <form class="ui form" method='post' novalidate>
            {% csrf_token %}

            <div class="field {% if form.old_password.errors %} error{% endif %}">
                <div class="ui left icon input">
                    <i class="lock icon"></i>
                    {% render_field form.old_password placeholder='Old password' %}
                </div>

                {% for error in form.old_password.errors %}
                <span class='ui red small text' style="text-align: left">{{error}}</span>
                {% endfor%}

                <br>

                {% if form.old_password.help_text %}
                <span class='ui grey small text' style="text-align: left"> {{ form.old_password.help_text }} </span>
                {% endif %}

            </div>

            <div class="field {% if form.new_password1.errors %} error{% endif %}">
                <div class="ui left icon input">
                    <i class="lock icon"></i>
                    {% render_field form.new_password1 placeholder='New password' %}
                </div>

                {% for error in form.new_password1.errors %}
                <span class='ui red small text' style="text-align: left">{{error}}</span>
                {% endfor%}

                <br>

                {% if form.new_password1.help_text %}
                <span class='ui grey small text' style="text-align: left"> {{ form.new_password1.help_text }} </span>
                {% endif %}

            </div>

            <div class="field {% if form.new_password2.errors %} error{% endif %}">
                <div class="ui left icon input">
                    <i class="lock icon"></i>
                    {% render_field form.new_password2 placeholder='New password confirmation' %}
                </div>

                {% for error in form.new_password2.errors %}
                <span class='ui red small text' style="text-align: left">{{error}}</span>
                {% endfor%}

                <br>

                {% if form.new_password2.help_text %}
                <span class='ui grey small text' style="text-align: left"> {{ form.new_password2.help_text }} </span>
                {% endif %}

            </div>







          <!--   {% for field in form %}
            
            {{ field.label_tag }}

            <div class="field {% if field.errors %} error{% endif %}">
                {% render_field field%}

                {% if field.errors %}
                <div class="ui error message">
                    <div class="ui bulleted list">
                        {% for error in field.errors %}
                        <div class="item">{{error}}</div>
                        {% endfor%}
                    </div>
                </div>
                {% endif %}

                {% if field.help_text %}
                <small> {{ field.help_text }} </small>
                {% endif %}
            </div>
            {% endfor %} -->

            <button type="submit" class='ui primary button'>Change password</button>

        </form>
    </div>
</div>

{% endblock %}